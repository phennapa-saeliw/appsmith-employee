{
  "unpublishedCollection": {
    "name": "login",
    "pageId": "Login Copy",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\nonLogIn: async () => {\n                    if((email.text !== '') && (password.text !=='')){\n                        try{ \n                                    await sign_in.run() ;\n                                                        const jwt = sign_in?.data?.access_token;\n                                                        const user = sign_in?.data?.user;\n                                                                    if(jwt) {\n                                                                            storeValue('jwt', jwt);\n                                                                            storeValue('user', user);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t     \t  navigateTo('Home', {})\n                                                                                    }\n                                    } catch (error) {\n                                                                                    showAlert('อีเมลหรือรหัสผ่านผิด.', 'error')\n                                                                            }\n                        }else{\n                                        showAlert('❌ กรอกอีเมลและรหัสผ่าน.')\n                                        }\n    } ,\n\t\tgoogle: async () => {\n\t\t{{\nnavigateTo('https://dscfsshcuqomvwcvryye.supabase.co/auth/v1/authorize',{\n\tprovider: 'google' ,\n\tredirect_to: 'https://foong-appwrite.tk/app/personnel/home-63b77298a9f4ff7974e6b0df/edit?embed=true'\n\n},\n\t 'SAME_WINDOW')}}\n\t\t\t const jwt = get_user?.data?.access_token;\n       const user = get_user?.data?.user;\n         if(jwt) {\n        storeValue('jwt', jwt);\n       \tstoreValue('user', user); \n\t\t\t\tnavigateTo('Home', {})\n\t\t\t\t }\n\t},\n\t\n\t\n\t\n\tcontinue: async () => {\n\t\tif(!appsmith.URL.fullPath.includes('#access_token=')) return;\t\n\t\tappsmith.URL.fullPath.split('#') [1].split('&').forEach(i => {\n\t\t\tconst [key, value] =i.split('=');\n\t\t\tstoreValue(key,  value);\n\t\t\tconst user = get_user.data?.user;\n\t\t\tstoreValue('user', user);\n\t\t});\n\t\tnavigateTo('Home');\n\t}\n}\n",
    "variables": [],
    "userPermissions": []
  },
  "id": "Login Copy_login",
  "deleted": false,
  "gitSyncId": "63b77293a9f4ff7974e6b0d2_63ce4c3529e6fc43b6bc56be"
}